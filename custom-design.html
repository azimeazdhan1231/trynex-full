<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Custom Design Studio - TryneX Lifestyle</title>
    <meta name="description" content="Create your own custom designs with our advanced design studio">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <link rel="stylesheet" href="assets/css/style.css">
</head>
<body>
    <!-- Navigation -->
    <nav class="navbar">
        <div class="nav-container">
            <div class="nav-logo">
                <h2>TryneX Lifestyle</h2>
            </div>
            <div class="nav-menu">
                <a href="index.html" class="nav-link">Home</a>
                <a href="products.html" class="nav-link">Products</a>
                <a href="custom-design.html" class="nav-link active">Custom Design</a>
                <a href="about.html" class="nav-link">About</a>
                <a href="contact.html" class="nav-link">Contact</a>
                <a href="track-order.html" class="nav-link">Track Order</a>
            </div>
            <div class="nav-actions">
                <button class="search-btn" onclick="toggleSearch()">
                    <i class="fas fa-search"></i>
                </button>
                <button class="cart-btn" onclick="toggleCart()">
                    <i class="fas fa-shopping-cart"></i>
                    <span class="cart-count">0</span>
                </button>
                <button class="menu-toggle">
                    <i class="fas fa-bars"></i>
                </button>
            </div>
        </div>
    </nav>

    <!-- Page Header -->
    <section class="page-header">
        <div class="container">
            <h1>Custom Design Studio</h1>
            <p>Create personalized products with our advanced design tools</p>
        </div>
    </section>

    <!-- Design Studio -->
    <section class="design-studio">
        <div class="container">
            <div class="studio-layout">
                <!-- Product Selection -->
                <div class="product-selection">
                    <h3>Select Product</h3>
                    <div class="product-grid" id="customizableProducts">
                        <!-- Customizable products will be loaded dynamically -->
                    </div>
                </div>

                <!-- Design Canvas -->
                <div class="design-canvas-container">
                    <div class="canvas-header">
                        <h3>Design Preview</h3>
                        <div class="canvas-controls">
                            <button class="canvas-btn" onclick="zoomIn()">
                                <i class="fas fa-search-plus"></i>
                            </button>
                            <button class="canvas-btn" onclick="zoomOut()">
                                <i class="fas fa-search-minus"></i>
                            </button>
                            <button class="canvas-btn" onclick="resetView()">
                                <i class="fas fa-expand"></i>
                            </button>
                            <button class="canvas-btn" onclick="saveDesign()">
                                <i class="fas fa-save"></i>
                            </button>
                        </div>
                    </div>
                    <div class="canvas-area">
                        <div class="mockup-container">
                            <img id="selectedProductMockup" src="" alt="Product Mockup">
                            <canvas id="designCanvas" width="800" height="600"></canvas>
                        </div>
                    </div>
                    <div class="canvas-footer">
                        <div class="design-info">
                            <span id="designDimensions">No design loaded</span>
                        </div>
                        <div class="canvas-actions">
                            <button class="btn btn-secondary" onclick="clearCanvas()">
                                <i class="fas fa-trash"></i> Clear
                            </button>
                            <button class="btn btn-primary" onclick="addToCartCustom()">
                                <i class="fas fa-shopping-cart"></i> Add to Cart
                            </button>
                        </div>
                    </div>
                </div>

                <!-- Design Tools -->
                <div class="design-tools">
                    <div class="tool-section">
                        <h4>Upload Design</h4>
                        <div class="upload-area" onclick="document.getElementById('designFile').click()">
                            <i class="fas fa-cloud-upload-alt"></i>
                            <p>Upload Image</p>
                            <span>JPG, PNG up to 5MB</span>
                        </div>
                        <input type="file" id="designFile" accept="image/*" style="display: none;">
                    </div>

                    <div class="tool-section">
                        <h4>Design Properties</h4>
                        <div class="property-group">
                            <label>Size:</label>
                            <div class="size-controls">
                                <input type="range" id="designSize" min="10" max="200" value="100">
                                <span id="sizeValue">100%</span>
                            </div>
                        </div>
                        <div class="property-group">
                            <label>Rotation:</label>
                            <div class="rotation-controls">
                                <input type="range" id="designRotation" min="0" max="360" value="0">
                                <span id="rotationValue">0¬∞</span>
                            </div>
                        </div>
                        <div class="property-group">
                            <label>Opacity:</label>
                            <div class="opacity-controls">
                                <input type="range" id="designOpacity" min="0" max="100" value="100">
                                <span id="opacityValue">100%</span>
                            </div>
                        </div>
                    </div>

                    <div class="tool-section">
                        <h4>Position</h4>
                        <div class="position-grid">
                            <button class="pos-btn" onclick="alignDesign('top-left')">
                                <i class="fas fa-arrow-up"></i>
                                <i class="fas fa-arrow-left"></i>
                            </button>
                            <button class="pos-btn" onclick="alignDesign('top-center')">
                                <i class="fas fa-arrow-up"></i>
                            </button>
                            <button class="pos-btn" onclick="alignDesign('top-right')">
                                <i class="fas fa-arrow-up"></i>
                                <i class="fas fa-arrow-right"></i>
                            </button>
                            <button class="pos-btn" onclick="alignDesign('middle-left')">
                                <i class="fas fa-arrow-left"></i>
                            </button>
                            <button class="pos-btn" onclick="alignDesign('center')">
                                <i class="fas fa-crosshairs"></i>
                            </button>
                            <button class="pos-btn" onclick="alignDesign('middle-right')">
                                <i class="fas fa-arrow-right"></i>
                            </button>
                            <button class="pos-btn" onclick="alignDesign('bottom-left')">
                                <i class="fas fa-arrow-down"></i>
                                <i class="fas fa-arrow-left"></i>
                            </button>
                            <button class="pos-btn" onclick="alignDesign('bottom-center')">
                                <i class="fas fa-arrow-down"></i>
                            </button>
                            <button class="pos-btn" onclick="alignDesign('bottom-right')">
                                <i class="fas fa-arrow-down"></i>
                                <i class="fas fa-arrow-right"></i>
                            </button>
                        </div>
                    </div>

                    <div class="tool-section">
                        <h4>Text Tools</h4>
                        <div class="text-controls">
                            <input type="text" id="textInput" placeholder="Enter text...">
                            <select id="fontFamily">
                                <option value="Arial">Arial</option>
                                <option value="Times New Roman">Times New Roman</option>
                                <option value="Helvetica">Helvetica</option>
                                <option value="Georgia">Georgia</option>
                                <option value="Verdana">Verdana</option>
                            </select>
                            <input type="number" id="fontSize" value="24" min="8" max="72">
                            <input type="color" id="textColor" value="#000000">
                            <button class="btn btn-small" onclick="addText()">Add Text</button>
                        </div>
                    </div>

                    <div class="tool-section">
                        <h4>Layers</h4>
                        <div class="layers-list" id="layersList">
                            <!-- Layers will be displayed here -->
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Design Gallery -->
    <section class="design-gallery">
        <div class="container">
            <h2>Template Gallery</h2>
            <div class="gallery-tabs">
                <button class="gallery-tab active" onclick="showGalleryCategory('all')">All</button>
                <button class="gallery-tab" onclick="showGalleryCategory('logos')">Logos</button>
                <button class="gallery-tab" onclick="showGalleryCategory('quotes')">Quotes</button>
                <button class="gallery-tab" onclick="showGalleryCategory('graphics')">Graphics</button>
                <button class="gallery-tab" onclick="showGalleryCategory('patterns')">Patterns</button>
            </div>
            <div class="gallery-grid" id="templateGallery">
                <!-- Design templates will be loaded dynamically -->
            </div>
        </div>
    </section>

    <!-- Order Summary Modal -->
    <div class="order-summary-modal" id="orderSummaryModal">
        <div class="order-summary-content">
            <div class="order-summary-header">
                <h3>Custom Design Order</h3>
                <button class="order-summary-close" onclick="closeOrderSummary()">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            <div class="order-summary-body">
                <div class="summary-preview">
                    <img id="summaryPreview" src="" alt="Design Preview">
                </div>
                <div class="summary-details">
                    <h4 id="summaryProduct"></h4>
                    <div class="summary-options">
                        <div class="option-group">
                            <label>Quantity:</label>
                            <div class="quantity-controls">
                                <button class="qty-btn" onclick="decreaseCustomQuantity()">-</button>
                                <input type="number" id="customQuantity" value="1" min="1" max="99">
                                <button class="qty-btn" onclick="increaseCustomQuantity()">+</button>
                            </div>
                        </div>
                        <div class="option-group">
                            <label>Special Instructions:</label>
                            <textarea id="customInstructions" placeholder="Any special requirements..."></textarea>
                        </div>
                    </div>
                    <div class="summary-pricing">
                        <div class="price-row">
                            <span>Base Price:</span>
                            <span id="basePrice">‡ß≥0</span>
                        </div>
                        <div class="price-row">
                            <span>Custom Design Fee:</span>
                            <span id="designFee">‡ß≥50</span>
                        </div>
                        <div class="price-row total">
                            <span>Total:</span>
                            <span id="totalCustomPrice">‡ß≥0</span>
                        </div>
                    </div>
                    <div class="summary-actions">
                        <button class="btn btn-secondary" onclick="closeOrderSummary()">Edit Design</button>
                        <button class="btn btn-primary" onclick="confirmCustomOrder()">Add to Cart</button>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Cart Modal -->
    <div class="cart-modal" id="cartModal">
        <div class="cart-content">
            <div class="cart-header">
                <h3>Shopping Cart</h3>
                <button class="cart-close" onclick="toggleCart()">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            <div class="cart-items" id="cartItems">
                <!-- Cart items will be loaded dynamically -->
            </div>
            <div class="cart-footer">
                <div class="cart-total">
                    <strong>Total: ‡ß≥<span id="cartTotal">0</span></strong>
                </div>
                <div class="cart-actions">
                    <button class="btn btn-secondary" onclick="clearCart()">Clear Cart</button>
                    <button class="btn btn-primary" onclick="proceedToCheckout()">Checkout</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Footer -->
    <footer class="footer">
        <div class="container">
            <div class="footer-content">
                <div class="footer-section">
                    <h4>TryneX Lifestyle</h4>
                    <p>Premium custom gifts and lifestyle products in Bangladesh.</p>
                    <div class="social-links">
                        <a href="#"><i class="fab fa-facebook"></i></a>
                        <a href="#"><i class="fab fa-instagram"></i></a>
                        <a href="#"><i class="fab fa-whatsapp"></i></a>
                    </div>
                </div>
                <div class="footer-section">
                    <h4>Quick Links</h4>
                    <ul>
                        <li><a href="products.html">Products</a></li>
                        <li><a href="custom-design.html">Custom Design</a></li>
                        <li><a href="track-order.html">Track Order</a></li>
                        <li><a href="about.html">About Us</a></li>
                    </ul>
                </div>
                <div class="footer-section">
                    <h4>Categories</h4>
                    <ul>
                        <li><a href="products.html?category=mugs">Mugs</a></li>
                        <li><a href="products.html?category=t-shirts">T-Shirts</a></li>
                        <li><a href="products.html?category=bottles">Bottles</a></li>
                        <li><a href="products.html?category=keychains">Keychains</a></li>
                    </ul>
                </div>
                <div class="footer-section">
                    <h4>Contact</h4>
                    <p><i class="fab fa-whatsapp"></i> 01747292277</p>
                    <p><i class="fas fa-envelope"></i> trynexlifestyle@gmail.com</p>
                    <p><i class="fas fa-map-marker-alt"></i> Dhaka, Bangladesh</p>
                </div>
            </div>
            <div class="footer-bottom">
                <div class="footer-icons">
                    <span class="footer-icon" onclick="footerIconClick()">üéÅ</span>
                    <span class="footer-icon" onclick="footerIconClick()">‚≠ê</span>
                    <span class="footer-icon" onclick="footerIconClick()">üöÄ</span>
                    <span class="footer-icon" onclick="footerIconClick()">üíé</span>
                    <span class="footer-icon" onclick="footerIconClick()">üé®</span>
                </div>
                <p>&copy; 2024 TryneX Lifestyle. All rights reserved.</p>
            </div>
        </div>
    </footer>

    <!-- Loading Spinner -->
    <div class="loading-spinner" id="loadingSpinner">
        <div class="spinner"></div>
    </div>

    <!-- Scripts -->
    <script src="assets/js/supabase.js"></script>
    <script src="assets/js/cart.js"></script>
    <script src="assets/js/customizer.js"></script>
    <script src="assets/js/main.js"></script>
    <script>
        // Initialize custom design studio
        document.addEventListener('DOMContentLoaded', function() {
            loadCustomizableProducts();
            initializeCanvas();
            loadTemplateGallery();
        });
    </script>
</body>
</html>
